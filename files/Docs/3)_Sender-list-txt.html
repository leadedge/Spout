<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>3) Sender-list.txt</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.1 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="List_of_senders"></a><a name="Topic82"></a><div class="CTopic TSection LTextFile first">
 <div class="CTitle">List of senders</div>
 <div class="CBody"><p>Creating your own sender list</p><p>A receiver can use &quot;SelectSender&quot; to open a sender selection dialog but this might not be appropriate for your application.</p><p>To create a list of senders for a menu or drop-down list, use the following process :</p><p>1) Get the sender count</p><p>GetSenderCount returns the number of Spout senders that are currently running.</p><pre><span class="SHKeyword">int</span> nSenders = receiver.GetSenderCount();</pre><p>2) Get sender names</p><p>GetSender returns the name of a sender with an index into the list of senders. The default is length is 256 if not specified :</p><pre><span class="SHKeyword">char</span> SenderName[<span class="SHNumber">256</span>];<br /><span class="SHKeyword">int</span> index = <span class="SHNumber">0</span>; // based on GetSenderCount<br />receiver.GetSender(index, SenderName);</pre><p>3) Get sender details</p><p>GetSenderInfo returns the width, height, share handle and format of the DirectX 11 shared texture. For OpenGL you only need to specify the width and height.</p><pre><span class="SHKeyword">unsigned int</span> width, height;<br />HANDLE hShareHandle;<br />DWORD dwFormat;<br />receiver.GetSenderInfo(SenderName, width, height, hShareHandle, dwFormat);</pre><p>For example&nbsp; :</p><pre><span class="SHKeyword">char</span> SenderName[<span class="SHNumber">256</span>];<br /><span class="SHKeyword">int</span> nSenders = myReceiver.GetSenderCount();<br /><span class="SHKeyword">if</span>(nSenders &gt; <span class="SHNumber">0</span>) {<br />    <span class="SHKeyword">for</span>(<span class="SHKeyword">int</span> index=<span class="SHNumber">0</span>; index&lt;nSenders; index++) {<br />        myReceiver.GetSender(index, SenderName);<br />        //<br />        // Do something here to create your list<br />        //<br />    }<br />}</pre><p>4) Set the active sender</p><p>When the user has selected a sender from your list, you may wish to set this sender as &quot;active&quot; in keeping with the function of the sender selection dialog &quot;SelectSender&quot;.</p><pre>receiver.SetActiveSender(SenderName);</pre><p>Once set as active, this sender will be the one that a receiver first detects if a nominated sender is not found.</p><p>5) Indicating the active sender</p><p>After creating the selection list, you may wish to indicate to the user which sender is currently &quot;active&quot;. &quot;GetActiveSender&quot; returns the name of the active sender.</p><pre><span class="SHKeyword">char</span> SenderName[<span class="SHNumber">256</span>];<br />receiver.GetActiveSender(SenderName);</pre><p>NOTE: There is no provision for the maximum number of bytes to be returned, so make sure you have prepared a receiving character array for the sender name of no less than 256 bytes in length.</p></div>
</div>

</body></html>