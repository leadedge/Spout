Creating your own sender list

To create a list of senders for a menu or drop-down list, use the following process :

1) Get the sender count
GetSenderCount returns the number of Spout senders that are currently running.

  int nSenders = receiver.GetSenderCount();

2) Get sender names
GetSender returns the name of a sender with an index into the list of senders. The default is length is 256 if not specified :

		char SenderName[256];
		int index = 0; // based on GetSenderCount
		receiver.GetSender(index, SenderName);
3) Get sender details
GetSenderInfo returns the width, height, share handle and format of the DirectX 11 shared texture. For OpenGL you only need to know the width and height.

		unsigned int width, height;
		HANDLE hShareHandle;
		DWORD dwFormat;

		receiver.GetSenderInfo(SenderName, width, height,
					    hShareHandle, dwFormat);

For example  :

		char SenderName[256];
		int nSenders = myReceiver.GetSenderCount();
		if(nSenders > 0) {
			for(int index=0; index<nSenders; index++) {
				myReceiver.GetSender(index, SenderName);
				//
				// Do something here to create your list
				//
			}
		}


4) Set the active sender

When the user has selected a sender from your list, you may wish to set this sender as "active" in keeping with the function of the sender selection dialog "SelectSender".

  receiver.SetActiveSender(SenderName);

Once set, this sender will be the one that a receiver first detects if a nominated sender is not found.

5) Finding the active sender
When you make your selection list, you may wish to indicate to the user which sender is currently "active".

		char SenderName[256];
		receiver.GetActiveSender(SenderName);

This will return the name of the active sender. 

NOTE: Make sure you have prepared a receiving character array for the sender name of no less than 256 bytes in length.

